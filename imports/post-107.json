{
    "comments": [],
    "tags": ["linux", "os-x"],
    "title": "Tab Colors in iTerm2 v1.0",
    "html": "<p>Version 1.0 of iTerm2 for OS X was recently released. They\nremoved one of my favorite features: tab coloring. You used to be\nable to right click on a tab to change its color. For example, I\nchanged the tab with my ssh connection to our production server\nwould be red and the tab with the ssh connection to our test server\nwould be green.</p>\n<p>I looked into it, and there is a way to set the tab color from\nthe command line itself. This turns out to be much more helpful\nbecause I can add the following lines to my bash profile:</p>\n<div class=\"geshifilter\">\n<pre class=\"bash geshifilter-bash\">\n<span class=\"kw3\">alias</span> ssh-dev=<span class=\"st0\">\"tab-green; ssh ksnyder@dev.example.com\"</span>\n<span class=\"kw3\">alias</span> ssh-prod=<span class=\"st0\">\"tab-red; ssh ksnyder@example.com\"</span>\n</pre></div>\n<p>Now each time I want to ssh to the dev server, the tab changes\nto green before the ssh begins. Same for production with a red\ntab.</p>\n<p>The full tab coloring script I created is below. I just threw it\ninto <span class=\"geshifilter\"><code class=\"text geshifilter-text\">~/.bash_profile</code></span>.</p>\n<div class=\"geshifilter\">\n<pre class=\"bash geshifilter-bash\">\n<span class=\"co0\"># iterm coloring</span>\n<span class=\"kw1\">function</span> tab-color<span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"br0\">{</span>\n    <span class=\"kw1\">if</span> <span class=\"br0\">[</span><span class=\"br0\">[</span> <span class=\"re4\">$#</span> == <span class=\"nu0\">1</span> <span class=\"br0\">]</span><span class=\"br0\">]</span>\n    <span class=\"kw1\">then</span>\n        <span class=\"co0\"># convert hex to decimal</span>\n        <span class=\"re2\">hex</span>=<span class=\"re4\">$1</span>\n        <span class=\"kw1\">if</span> <span class=\"br0\">[</span><span class=\"br0\">[</span> <span class=\"co1\">${hex:0:1}</span> == <span class=\"st0\">\"#\"</span> <span class=\"br0\">]</span><span class=\"br0\">]</span>\n        <span class=\"kw1\">then</span>\n            <span class=\"co0\"># strip leading hash sign</span>\n            <span class=\"re2\">hex</span>=<span class=\"co1\">${hex:1:6}</span>\n        <span class=\"kw1\">fi</span>\n        <span class=\"kw1\">if</span> <span class=\"br0\">[</span><span class=\"br0\">[</span> <span class=\"co1\">${#hex}</span> == <span class=\"nu0\">3</span> <span class=\"br0\">]</span><span class=\"br0\">]</span>\n        <span class=\"kw1\">then</span>\n            <span class=\"co0\"># handle 3-letter hex codes</span>\n            <span class=\"re2\">hex</span>=<span class=\"st0\">\"<span class=\"es3\">${hex:0:1}</span><span class=\"es3\">${hex:0:1}</span><span class=\"es3\">${hex:1:1}</span><span class=\"es3\">${hex:1:1}</span><span class=\"es3\">${hex:2:1}</span><span class=\"es3\">${hex:2:1}</span>\"</span>\n        <span class=\"kw1\">fi</span>\n        <span class=\"re2\">r</span>=$<span class=\"br0\">(</span><span class=\"kw3\">printf</span> <span class=\"st0\">\"%d\"</span> 0x<span class=\"co1\">${hex:0:2}</span><span class=\"br0\">)</span>\n        <span class=\"re2\">g</span>=$<span class=\"br0\">(</span><span class=\"kw3\">printf</span> <span class=\"st0\">\"%d\"</span> 0x<span class=\"co1\">${hex:2:2}</span><span class=\"br0\">)</span>\n        <span class=\"re2\">b</span>=$<span class=\"br0\">(</span><span class=\"kw3\">printf</span> <span class=\"st0\">\"%d\"</span> 0x<span class=\"co1\">${hex:4:2}</span><span class=\"br0\">)</span>\n    <span class=\"kw1\">else</span>\n        <span class=\"re2\">r</span>=<span class=\"re4\">$1</span>\n        <span class=\"re2\">g</span>=<span class=\"re4\">$2</span>\n        <span class=\"re2\">b</span>=<span class=\"re4\">$3</span>\n    <span class=\"kw1\">fi</span>\n    <span class=\"kw3\">echo</span> <span class=\"re5\">-ne</span> <span class=\"st0\">\"\\033]6;1;bg;red;brightness;<span class=\"es2\">$r</span>\\a\"</span>\n    <span class=\"kw3\">echo</span> <span class=\"re5\">-ne</span> <span class=\"st0\">\"\\033]6;1;bg;green;brightness;<span class=\"es2\">$g</span>\\a\"</span>\n    <span class=\"kw3\">echo</span> <span class=\"re5\">-ne</span> <span class=\"st0\">\"\\033]6;1;bg;blue;brightness;<span class=\"es2\">$b</span>\\a\"</span>\n<span class=\"br0\">}</span>\n<span class=\"kw1\">function</span> tab-red<span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"br0\">{</span> tab-color <span class=\"nu0\">203</span> <span class=\"nu0\">111</span> <span class=\"nu0\">111</span>; <span class=\"br0\">}</span>\n<span class=\"kw1\">function</span> tab-green<span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"br0\">{</span> tab-color 6cc276; <span class=\"br0\">}</span>\n<span class=\"kw1\">function</span> tab-yellow<span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"br0\">{</span> tab-color <span class=\"st0\">\"#e8e9ac\"</span>; <span class=\"br0\">}</span>\n<span class=\"kw1\">function</span> tab-blue<span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"br0\">{</span> tab-color 6f8ccc; <span class=\"br0\">}</span>\n<span class=\"kw1\">function</span> tab-purple<span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"br0\">{</span> tab-color a789d4; <span class=\"br0\">}</span>\n<span class=\"kw1\">function</span> tab-orange<span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"br0\">{</span> tab-color fbbc79; <span class=\"br0\">}</span>\n<span class=\"kw1\">function</span> tab-white<span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"br0\">{</span> tab-color fff; <span class=\"br0\">}</span>\n<span class=\"kw1\">function</span> tab-gray<span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"br0\">{</span> tab-color c3c3c3c; <span class=\"br0\">}</span>\n</pre></div>\n<p>Note that the tab-color function accepts colors in rgb,\n6-character hex codes and 3-character hex codes.</p>",
    "timestamp": 1384498800000,
    "slug": "tab-colors-in-iterm2-v10",
    "nid": 107
}